<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gluxEngine: material.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>material.h</h1><a href="material_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00005"></a>00005 <span class="preprocessor">#ifndef _MATERIAL_H_</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define _MATERIAL_H_</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="texture_8h.html" title="load TGA textures from file and converts them to suitable OpenGL format. TGA files...">texture.h</a>&quot;</span>
<a name="l00009"></a>00009 
<a name="l00011"></a><a class="code" href="material_8h.html#a05ec23ea9e68706e210bd8f965beee10">00011</a> <span class="preprocessor">#define BUFFER 512</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a169f6cb74499519355635c82a73ffd03" title="white color">white</a>(1.0f,1.0f,1.0f);
<a name="l00016"></a>00016 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#ae6da9131b1d5241d9158c5c18dd0cbc0" title="black color">black</a>(0.0f,0.0f,0.0f);
<a name="l00018"></a>00018 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a40cd8494738564f11d83f205f60cd538" title="dark grey color">dgrey</a>(0.1f,0.1f,0.1f);
<a name="l00020"></a>00020 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a8144dfc7c4eea3bd530617f0b13bdd25" title="grey color">grey</a>(0.3f,0.3f,0.3f);
<a name="l00022"></a>00022 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a8f5e3c9322b9127fce02ed72375f9818" title="light grey color">lgrey</a>(0.5f,0.5f,0.5f);
<a name="l00024"></a>00024 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a44213650f86751562686ec84c6da7de3" title="silver color">silver</a>(0.7f,0.7f,0.7f);
<a name="l00026"></a>00026 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a4e0d200af6c0b6161151b7babadfbc31" title="red color">red</a>(1.0f,0.0f,0.0f);
<a name="l00028"></a>00028 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#ae8c7395a719cf2c9079580acad85d9a9" title="green color">green</a>(0.0f,1.0f,0.0f);
<a name="l00030"></a>00030 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a2f33355b9151e1fd8a4ff25c1312c558" title="blue color">blue</a>(0.0f,0.0f,1.0f);
<a name="l00032"></a>00032 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#ac7d836740f4a9c414aa1e8f28e4d8035" title="yellow color">yellow</a>(1.0f,1.0f,0.0f);
<a name="l00034"></a>00034 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#a1a6c43f2e6c8387eb7ba4c877ae027d9" title="magenta color">magenta</a>(1.0f,0.0f,1.0f);
<a name="l00036"></a>00036 <span class="keyword">const</span> glm::vec3 <a class="code" href="material_8h.html#ad08fbcdbcbf627a9ba423664c7b4c968" title="cyan color">cyan</a>(0.0f,1.0f,1.0f);
<a name="l00037"></a>00037 
<a name="l00040"></a><a class="code" href="struct_t_shader.html">00040</a> <span class="keyword">struct </span><a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a>
<a name="l00041"></a>00041 {
<a name="l00042"></a><a class="code" href="struct_t_shader.html#a97b39cd368a0fcecf13df436b88864f8">00042</a>     <span class="keywordtype">int</span> <a class="code" href="struct_t_shader.html#a97b39cd368a0fcecf13df436b88864f8">type</a>;
<a name="l00043"></a><a class="code" href="struct_t_shader.html#a9bc21bda6b4c0442df995dfcb43a349d">00043</a>     <span class="keywordtype">string</span> <a class="code" href="struct_t_shader.html#a9bc21bda6b4c0442df995dfcb43a349d">source</a>;
<a name="l00044"></a><a class="code" href="struct_t_shader.html#a1e7048997e81edc280abc53e6f8cba6c">00044</a>     <span class="keywordtype">string</span> <a class="code" href="struct_t_shader.html#a1e7048997e81edc280abc53e6f8cba6c">defines</a>;
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="struct_t_shader.html#ad32ca483af44a81b89aecef15ba786d7">00046</a>     <a class="code" href="struct_t_shader.html#ad32ca483af44a81b89aecef15ba786d7">TShader</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="demo_8cpp.html#aab0a66bd50a2d469eea909d667b556ab">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* d){
<a name="l00047"></a>00047         <a class="code" href="struct_t_shader.html#a97b39cd368a0fcecf13df436b88864f8">type</a> = <a class="code" href="globals_8h.html#af6e0f58d3725fcc564332c358e0d6134af7088b42f1b1ff22e50559719b20ffaf">FRAGMENT</a>;
<a name="l00048"></a>00048         <a class="code" href="struct_t_shader.html#a9bc21bda6b4c0442df995dfcb43a349d">source</a> = s;
<a name="l00049"></a>00049         <a class="code" href="struct_t_shader.html#a1e7048997e81edc280abc53e6f8cba6c">defines</a> = d;
<a name="l00050"></a>00050     }
<a name="l00051"></a>00051 };
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00056"></a><a class="code" href="class_t_material.html">00056</a> <span class="keyword">class </span><a class="code" href="class_t_material.html" title="hold all material properties necessary to create dynamic shader - light models textures...">TMaterial</a>
<a name="l00057"></a>00057 {
<a name="l00058"></a>00058 <span class="keyword">private</span>:
<a name="l00059"></a>00059     <span class="comment">//properties</span>
<a name="l00060"></a>00060     <span class="keywordtype">string</span> m_name;
<a name="l00061"></a>00061     <span class="keywordtype">unsigned</span> m_matID;
<a name="l00062"></a>00062     map&lt;string,Texture*&gt; m_textures;          <span class="comment">//textures list    </span>
<a name="l00063"></a>00063     map&lt;string,Texture*&gt;::iterator m_it;                         <span class="comment">//texture iterator</span>
<a name="l00064"></a>00064     <span class="comment">//material properties</span>
<a name="l00065"></a>00065     glm::vec3 m_ambColor, m_diffColor, m_specColor;
<a name="l00066"></a>00066     GLfloat m_shininess, m_transparency, m_reflection;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068     <span class="comment">//shader</span>
<a name="l00069"></a>00069     <span class="keywordtype">string</span> m_source;          <span class="comment">//custom shader source</span>
<a name="l00070"></a>00070     GLuint m_f_shader, m_tc_shader, m_te_shader, m_g_shader, m_v_shader, m_shader;
<a name="l00071"></a>00071     map&lt;const char*,GLint&gt; m_shader_locations;
<a name="l00072"></a>00072     GLint m_sh_loc;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074     <span class="comment">//other variables</span>
<a name="l00075"></a>00075     <span class="keywordtype">bool</span> m_baked, m_custom_shader, m_receive_shadows, m_useMRT, m_is_alpha, m_is_tessellated;
<a name="l00076"></a>00076     <span class="keywordtype">int</span> m_lightModel;     
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">//scene ID - when drawing more scenes than 1</span>
<a name="l00079"></a>00079     <span class="keywordtype">int</span> m_sceneID;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="keyword">public</span>:
<a name="l00082"></a>00082     <span class="comment">//material creation</span>
<a name="l00083"></a>00083     <a class="code" href="class_t_material.html#a75b398c0fd2d15567eb0904c3310967c" title="Direct creation of desired material.">TMaterial</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="demo_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">id</span>, glm::vec3 amb, glm::vec3 diff, glm::vec3 spec, 
<a name="l00084"></a>00084               GLfloat shin, GLfloat reflect, GLfloat transp, GLint lm);
<a name="l00085"></a>00085     <span class="comment">//free dynamic data</span>
<a name="l00086"></a>00086     <a class="code" href="class_t_material.html#a9109d33aabf8cacd851aa99100a126fd" title="Destroy material data, detache shaders.">~TMaterial</a>();
<a name="l00087"></a>00087 
<a name="l00089"></a><a class="code" href="class_t_material.html#a80d5c2947a096d4b1beacdbb60cded09">00089</a>     <span class="keywordtype">string</span> <a class="code" href="class_t_material.html#a80d5c2947a096d4b1beacdbb60cded09" title="get material name">GetName</a>(){ 
<a name="l00090"></a>00090         <span class="keywordflow">return</span> m_name; 
<a name="l00091"></a>00091     }
<a name="l00093"></a><a class="code" href="class_t_material.html#a851cb046f5816239239b5f5dbdd62877">00093</a>     <span class="keywordtype">unsigned</span> <a class="code" href="class_t_material.html#a851cb046f5816239239b5f5dbdd62877" title="get material ID">GetID</a>(){ 
<a name="l00094"></a>00094         <span class="keywordflow">return</span> m_matID; 
<a name="l00095"></a>00095     }
<a name="l00097"></a><a class="code" href="class_t_material.html#a869bbcbabd8b2460a02d95116c4e7639">00097</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a869bbcbabd8b2460a02d95116c4e7639" title="set transparency value">SetTransparency</a>(GLfloat value){ 
<a name="l00098"></a>00098         m_transparency = value; 
<a name="l00099"></a>00099     }
<a name="l00101"></a><a class="code" href="class_t_material.html#ac9724f13fb4c369b6ef3ce34d276b764">00101</a>     GLfloat <a class="code" href="class_t_material.html#ac9724f13fb4c369b6ef3ce34d276b764" title="get transparency value">GetTransparency</a>(){ 
<a name="l00102"></a>00102         <span class="keywordflow">return</span> m_transparency; 
<a name="l00103"></a>00103     }
<a name="l00105"></a><a class="code" href="class_t_material.html#a2e7361f2c05c1562528523987fd027a4">00105</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a2e7361f2c05c1562528523987fd027a4" title="Set material color.">SetColor</a>(<span class="keywordtype">int</span> component, glm::vec3 color){
<a name="l00106"></a>00106         <span class="keywordflow">switch</span>(component){
<a name="l00107"></a>00107         <span class="keywordflow">case</span> <a class="code" href="globals_8h.html#ac19e23cf4221cf1e9a97ca3fd3cd20ffa01eaec024a78f1d2e73b59e5d281251e">AMBIENT</a>: m_ambColor = color; <span class="keywordflow">break</span>;
<a name="l00108"></a>00108         <span class="keywordflow">case</span> <a class="code" href="globals_8h.html#ac19e23cf4221cf1e9a97ca3fd3cd20ffae24747f0d4ad269225adda5df5feaa2c">DIFFUSE</a>: m_diffColor = color; <span class="keywordflow">break</span>;
<a name="l00109"></a>00109         <span class="keywordflow">case</span> <a class="code" href="globals_8h.html#ac19e23cf4221cf1e9a97ca3fd3cd20ffa41ced480f23b6fb8c3f77ca72d7af552">SPECULAR</a>: m_specColor = color; <span class="keywordflow">break</span>;
<a name="l00110"></a>00110         }
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <span class="comment">//texture from file</span>
<a name="l00114"></a>00114     GLint <a class="code" href="class_t_material.html#adeb2659306d80e00490fdb01e7c112c4" title="Add texture from external file. If texture has been loaded, a texture pointer from...">AddTexture</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *file, GLint textype, GLint texmode,
<a name="l00115"></a>00115                      GLfloat intensity, GLfloat tileX, GLfloat tileY, <span class="keywordtype">bool</span> mipmap, <span class="keywordtype">bool</span> aniso, GLint cache);
<a name="l00116"></a>00116     <span class="comment">//from cubemap</span>
<a name="l00117"></a>00117     GLint <a class="code" href="class_t_material.html#adeb2659306d80e00490fdb01e7c112c4" title="Add texture from external file. If texture has been loaded, a texture pointer from...">AddTexture</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **files, GLint textype, GLint texmode,
<a name="l00118"></a>00118                      GLfloat intensity, GLfloat tileX, GLfloat tileY, <span class="keywordtype">bool</span> aniso, GLint cache);
<a name="l00119"></a>00119     <span class="comment">//finds next free texture in the list</span>
<a name="l00120"></a>00120     <span class="keywordtype">string</span> <a class="code" href="class_t_material.html#a0b075a2fc66e168e65ea45d5bcd4fb78" title="Finds and returns next free texture name in list (important to synchronize generated...">NextTexture</a>(<span class="keywordtype">string</span> textype);   
<a name="l00125"></a><a class="code" href="class_t_material.html#a66a1b91df4cff3a838cb312df3d17cb1">00125</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a66a1b91df4cff3a838cb312df3d17cb1" title="Delete texture specified by name.">DeleteTexture</a>(<span class="keywordtype">string</span> texname){ 
<a name="l00126"></a>00126         m_textures.erase(texname); 
<a name="l00127"></a>00127     }
<a name="l00128"></a>00128 
<a name="l00134"></a><a class="code" href="class_t_material.html#a0fbe9b0eae94b81ff70680f2f2034f1f">00134</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a0fbe9b0eae94b81ff70680f2f2034f1f" title="Change texture ID (thus change pointer to texture object).">SetTexID</a>(<span class="keywordtype">string</span> texname, GLuint <span class="keywordtype">id</span>){ 
<a name="l00135"></a>00135         m_textures[texname]-&gt;SetID(<span class="keywordtype">id</span>); 
<a name="l00136"></a>00136     }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138     <span class="comment">//add shadow map</span>
<a name="l00139"></a>00139     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a136413b253e3b45a3dc3238929a9726d" title="Add shadow map.">AddShadowMap</a>(<span class="keywordtype">int</span> type, GLuint map, GLfloat intensity);
<a name="l00140"></a>00140     <span class="comment">//remove all shadow maps</span>
<a name="l00141"></a>00141     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#acc2ab15105559d9be44fa9ac52f5b9a0" title="Remove all shadow maps.">RemoveShadows</a>();
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a>00144     <span class="comment">//load custom shader - vertex and fragment stage only</span>
<a name="l00145"></a><a class="code" href="class_t_material.html#aed779e5cb887aaa9360cb37cd47f2771">00145</a>     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#aed779e5cb887aaa9360cb37cd47f2771">CustomShader</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* vert_source, <span class="keyword">const</span> <span class="keywordtype">char</span>* frag_source, <span class="keyword">const</span> <span class="keywordtype">char</span> *vert_defines, <span class="keyword">const</span> <span class="keywordtype">char</span> *frag_defines){
<a name="l00146"></a>00146         <a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> vert(vert_source, vert_defines);
<a name="l00147"></a>00147         <a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> frag(frag_source, frag_defines);
<a name="l00148"></a>00148         <span class="keywordflow">return</span> <a class="code" href="class_t_material.html#aed779e5cb887aaa9360cb37cd47f2771">CustomShader</a>(&amp;vert, NULL, NULL, NULL, &amp;frag);
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150     <span class="comment">//load custom shader - all stages</span>
<a name="l00151"></a>00151     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#aed779e5cb887aaa9360cb37cd47f2771">CustomShader</a>(<a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> *vertex, <a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> *tess_control, <a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> *tess_eval, <a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> *geometry, <a class="code" href="struct_t_shader.html" title="structure for shader properties">TShader</a> *fragment);
<a name="l00152"></a>00152 
<a name="l00154"></a><a class="code" href="class_t_material.html#af7758b2f29935f9033e7ee05c6e62b15">00154</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#af7758b2f29935f9033e7ee05c6e62b15" title="Set float uniform value in shader.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, <span class="keywordtype">float</span> value){
<a name="l00155"></a>00155         glProgramUniform1f(m_shader, glGetUniformLocation(m_shader,v_name), value);
<a name="l00156"></a>00156     }
<a name="l00158"></a><a class="code" href="class_t_material.html#a9d5574a64f291057453d1673fcd3a210">00158</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a9d5574a64f291057453d1673fcd3a210" title="Set double uniform value in shader. It is treated like float.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, <span class="keywordtype">double</span> value){
<a name="l00159"></a>00159         glProgramUniform1f(m_shader, glGetUniformLocation(m_shader,v_name), (<span class="keywordtype">float</span>)value);
<a name="l00160"></a>00160     }
<a name="l00162"></a><a class="code" href="class_t_material.html#aeb29153fbf6b94ed3b967a08ee862ed6">00162</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#aeb29153fbf6b94ed3b967a08ee862ed6" title="Set int uniform value in shader.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, <span class="keywordtype">int</span> value){
<a name="l00163"></a>00163         glProgramUniform1i(m_shader, glGetUniformLocation(m_shader,v_name), value);
<a name="l00164"></a>00164     }
<a name="l00166"></a><a class="code" href="class_t_material.html#a75648c13dc995fc0906d368ee0af44fb">00166</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a75648c13dc995fc0906d368ee0af44fb" title="Set ivec2 value.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, glm::ivec2 value){
<a name="l00167"></a>00167         glProgramUniform2iv(m_shader, glGetUniformLocation(m_shader,v_name), 1, glm::value_ptr(value));
<a name="l00168"></a>00168     }
<a name="l00170"></a><a class="code" href="class_t_material.html#a9b7e96b33be51ae93d2d59d3f610041b">00170</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a9b7e96b33be51ae93d2d59d3f610041b" title="Set vec2 value.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, glm::vec2 value){
<a name="l00171"></a>00171         glProgramUniform2fv(m_shader, glGetUniformLocation(m_shader,v_name), 1, glm::value_ptr(value));
<a name="l00172"></a>00172     }
<a name="l00174"></a><a class="code" href="class_t_material.html#af5debe4b7c8a198c7c0d5c99c1cb5c78">00174</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#af5debe4b7c8a198c7c0d5c99c1cb5c78" title="Set vec3 value.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, glm::vec3 value){
<a name="l00175"></a>00175         glProgramUniform3fv(m_shader, glGetUniformLocation(m_shader,v_name), 1, glm::value_ptr(value));
<a name="l00176"></a>00176     }
<a name="l00178"></a><a class="code" href="class_t_material.html#a5354db8c8af42f8ade266a776cc996c3">00178</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a5354db8c8af42f8ade266a776cc996c3" title="Set vec4 value.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, glm::vec4 value){
<a name="l00179"></a>00179         glProgramUniform4fv(m_shader, glGetUniformLocation(m_shader,v_name), 1, glm::value_ptr(value));
<a name="l00180"></a>00180     }
<a name="l00182"></a><a class="code" href="class_t_material.html#a0edc452ec5297a88b5c9d37ad63b391a">00182</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a0edc452ec5297a88b5c9d37ad63b391a" title="Set mat4x4 value.">SetUniform</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* v_name, glm::mat4 &amp;value){
<a name="l00183"></a>00183         glProgramUniformMatrix4fv(m_shader, glGetUniformLocation(m_shader,v_name), 1, 0, glm::value_ptr(value));
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185 
<a name="l00187"></a><a class="code" href="class_t_material.html#aedf63d814a2a69788ed0370f13d1ec66">00187</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#aedf63d814a2a69788ed0370f13d1ec66" title="Toggle use of MRT.">UseMRT</a>(<span class="keywordtype">bool</span> flag){ 
<a name="l00188"></a>00188         m_useMRT = flag; 
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <span class="comment">//dynamically generate material shader</span>
<a name="l00192"></a>00192     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#acbe9736cf8a072fb1e7d36799e6e00ec" title="Dynamically generates shader from all material data (if hasn&amp;#39;t been generated...">BakeMaterial</a>(<span class="keywordtype">int</span> light_count);
<a name="l00193"></a>00193     <span class="comment">//render material</span>
<a name="l00194"></a>00194     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#aef0da341ef63580d396d5be2c2a79978" title="Render material. If hasn&amp;#39;t been baked, bake him first(TMaterial::BakeMaterial())...">RenderMaterial</a>();
<a name="l00195"></a>00195     <span class="comment">//is material working in screen space?</span>
<a name="l00196"></a><a class="code" href="class_t_material.html#a7780c05805edf36516669faa5b2431e6">00196</a>     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#a7780c05805edf36516669faa5b2431e6">IsScreenSpace</a>(){  
<a name="l00197"></a>00197         <span class="keywordflow">return</span> (m_lightModel == <a class="code" href="globals_8h.html#ac7d59eb7ec62845443005f77b4077a90a1ade56896f76bfe0b1d9899a4cc2cba2">SCREEN_SPACE</a>); 
<a name="l00198"></a>00198     }
<a name="l00199"></a>00199 
<a name="l00201"></a><a class="code" href="class_t_material.html#a93c027fe2f1c01ee656e4461516d6eb5">00201</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a93c027fe2f1c01ee656e4461516d6eb5" title="toggle receiving shadows">ReceiveShadow</a>(<span class="keywordtype">bool</span> flag){ 
<a name="l00202"></a>00202         m_receive_shadows = flag; 
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204 
<a name="l00206"></a><a class="code" href="class_t_material.html#af0afa025e37925021770c931ae86929f">00206</a>     GLfloat <a class="code" href="class_t_material.html#af0afa025e37925021770c931ae86929f" title="should we render material as reflective?">GetReflect</a>(){ 
<a name="l00207"></a>00207         <span class="keywordflow">return</span> m_reflection; 
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209 
<a name="l00211"></a><a class="code" href="class_t_material.html#a22cc1555d8df1a849c6ded288a471699">00211</a>     <span class="keywordtype">int</span> <a class="code" href="class_t_material.html#a22cc1555d8df1a849c6ded288a471699" title="Get scene ID.">GetSceneID</a>(){  
<a name="l00212"></a>00212         <span class="keywordflow">return</span> m_sceneID; 
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214 
<a name="l00216"></a><a class="code" href="class_t_material.html#a607c2ed4106d341480a63eca4c8fbf83">00216</a>     <span class="keywordtype">void</span> <a class="code" href="class_t_material.html#a607c2ed4106d341480a63eca4c8fbf83" title="Set scene ID.">SetSceneID</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>){  
<a name="l00217"></a>00217         m_sceneID = id; 
<a name="l00218"></a>00218     }
<a name="l00219"></a>00219 
<a name="l00221"></a><a class="code" href="class_t_material.html#aedb7a757f7a4572f3b2624f339023255">00221</a>     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#aedb7a757f7a4572f3b2624f339023255" title="Is shader custom?">IsCustom</a>(){  
<a name="l00222"></a>00222         <span class="keywordflow">return</span> m_custom_shader;  
<a name="l00223"></a>00223     }
<a name="l00224"></a>00224 
<a name="l00226"></a><a class="code" href="class_t_material.html#a0df1089551bb89663d35fe53e83b405d">00226</a>     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#a0df1089551bb89663d35fe53e83b405d" title="Is shader using tessellation stage?">IsTessellated</a>(){  
<a name="l00227"></a>00227         <span class="keywordflow">return</span> m_is_tessellated;  
<a name="l00228"></a>00228     }
<a name="l00229"></a>00229 
<a name="l00231"></a><a class="code" href="class_t_material.html#af387d9d7c59cd249cfed46f1bb6a17fb">00231</a>     <span class="keywordtype">bool</span> <a class="code" href="class_t_material.html#af387d9d7c59cd249cfed46f1bb6a17fb" title="Has shader material alpha channel?">IsAlpha</a>(){  
<a name="l00232"></a>00232         <span class="keywordflow">return</span> m_is_alpha; 
<a name="l00233"></a>00233     }
<a name="l00234"></a>00234 
<a name="l00236"></a><a class="code" href="class_t_material.html#aa414b935ccc9e68074b4ed3aa3cdbbf2">00236</a>     GLuint <a class="code" href="class_t_material.html#aa414b935ccc9e68074b4ed3aa3cdbbf2" title="Get first alpha texture ID.">GetAlphaTexID</a>(){
<a name="l00237"></a>00237         <span class="keywordflow">for</span>(m_it = m_textures.begin(); m_it != m_textures.end(); ++m_it){
<a name="l00238"></a>00238             <span class="keywordflow">if</span>(m_it-&gt;second-&gt;GetType() == <a class="code" href="globals_8h.html#ac3601c766e904acff2b729f45ccba47ca47e073572a47a01522b766b027f1a16c">ALPHA</a>)
<a name="l00239"></a>00239                 <span class="keywordflow">return</span> m_it-&gt;second-&gt;GetID();
<a name="l00240"></a>00240         }
<a name="l00241"></a>00241         <span class="keywordflow">return</span> 0;
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 };
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
